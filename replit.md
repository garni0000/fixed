# FixedPronos - Plateforme de Pronostics Sportifs

## Overview
FixedPronos is a VIP sports prediction platform featuring a subscription and referral system. It utilizes React/TypeScript for the frontend and Supabase for authentication and database management. The platform is 100% functional, including automated Mobile Money payments via MoneyFusion, and provides a dual-field system for categorizing bets and controlling access. Its core purpose is to offer sports predictions, manage user subscriptions, and facilitate payments, aiming for a robust and user-friendly experience in the sports betting market.

## User Preferences
- Langue: Français
- Framework: React + TypeScript + Vite
- UI: Shadcn + Tailwind CSS
- Theme: Sombre avec accents dorés/jaunes

## System Architecture

### UI/UX Decisions
The application uses Shadcn UI components built with Radix UI and Tailwind CSS, following a dark theme with gold/yellow accents. Navigation includes a fixed bottom bar for mobile viewing, featuring sections like Pronos, Combos, Offers, and Account.

### Technical Implementations
- **Frontend**: React 18 with TypeScript and Vite.
- **Routing**: React Router v6.
- **State Management**: TanStack Query (React Query).
- **Styling**: Tailwind CSS with a customized theme.
- **Authentication**: Supabase Authentication, with Row Level Security (RLS) enabled on all tables and automatic profile creation on signup. A role system (user/admin) is managed via the `user_roles` table.
- **Database**: Supabase, structured with key tables for `profiles`, `user_roles`, `subscriptions`, `pronos`, `transactions`, `referrals`, `payments`, and `combos`.
- **API Services**: All API calls are directed through `src/lib/supabase-services.ts`, abstracting interactions with Supabase for pronos, user management, payments, and admin functions.
- **Dual-Field System for Predictions**: Predictions are categorized by `prono_type` (e.g., safe, risk, vip) for risk assessment and `access_tier` (e.g., free, basic, pro, vip) for subscription-based content control. This system provides multi-level protection on both the frontend (filtering, blocking access, displaying reserved content messages) and the admin panel (independent selectors for type and tier).
- **Automated Subscription Activation**: An intelligent system extends existing subscriptions, creates new ones, or reactivates expired ones based on payment approval, preserving remaining subscription time.
- **Automated Mobile Money Payments**: Integration with MoneyFusion API for automatic payments (Orange, MTN, Moov Mobile Money) through a dedicated payment flow, webhooks for status updates, and secure transaction handling.

### Feature Specifications
- **Combined Bets (Combos)**: Supports combined bets with image coupons, linked pronos, and CRUD operations via Supabase services. Filtering by subscription level is intended.
- **Admin Panel**: Comprehensive interface for managing users, predictions, subscriptions, and approving payments.
- **Referral System**: Integrated referral program with commission tracking.

## External Dependencies
- **Supabase**: Used for authentication, real-time database, storage, and serverless functions (replacing a traditional backend API).
- **MoneyFusion API**: Integrated for automated Mobile Money payment processing in African markets (Orange Money, MTN Mobile Money, Moov Money).
- **Vercel**: Recommended for production deployment (mentioned in `DEPLOYMENT.md`).